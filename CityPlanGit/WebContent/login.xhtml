<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<ui:composition template="/WEB-INF/templates/layout.xhtml">
	<ui:define name="estilo">
		<link rel="stylesheet" href="/estiloCityPlan.css" />
		<link rel="stylesheet" href="/estiloLogin.css" />
		<link rel="stylesheet" href="/estiloRegistro.css" />
	</ui:define>
	<ui:define name="funcionesJS">
		<script>
function openForm() {
  document.getElementById("formLogin").style.display = "block";
}

function closeForm() {
  document.getElementById("formLogin").style.display = "none";
  document.getElementById("formRegistro").style.display = "none";
}
function validaLogIn() {
	var tipo= document.getElementById("tipoUsuario");
	var usuario=document.getElementById("usuario");
	var passw=document.getElementById("psw");
	var r=true;
	if(tipo==" "){
		document.getElementById("tipoUsuario").style.backgroundColor("yellow");
		alert("Necesario indicar el tipo de usuario");
		r=false;
	}else if(usuario==""){
		document.getElementById("usuario").style.backgroundColor("yellow");
		r=false;
	}else if(passw==""){
		document.getElementById("psw").style.backgroundColor("yellow");
		r=false;
	}
	return r;
}
function validaRegistro() {
	var tipo= document.getElementById("tipoUsuario");
	var nombre= document.getElementById("nombreUsuario");
	var pass= document.getElementById("password");
	var correo= document.getElementById("correo");
	var r=true;

	if(tipo==""){
		document.getElementById("tipoUsuario").style.backgroundColor("yellow");
		r=false;	
	}else if(nombre==""){
		document.getElementById("nombre").style.backgroundColor("yellow");
		r=false;	
	}else if(correo==""){
		document.getElementById("correo").style.backgroundColor("yellow");
		r=false;
	}else if(pass==""){
		document.getElementById("pass").style.backgroundColor("yellow");
		r=false;
	}
	return r;
}

</script>
	</ui:define>
	<ui:define name="NombrePagina">CityPlan: LogIn</ui:define>
	<ui:define name="Contenido">
		<div class="colMain">
			<h:commandButton class="openLogin"
				onclick="document.getElementById('formLogin').style.display='block'"
				style="width: center;font-size:0.5em;">
				<b>Log In</b>
			</h:commandButton>
			<h:commandButton class="openRegistro"
				onclick="document.getElementById('formRegistro').style.display='block'"
				style="width: center;font-size:0.5em;">
				<b>Registrarse</b>
			</h:commandButton>

			<div class="formLogin" id="formLogin">
				<h:form class="formLoginContainer">
					<h2>
						<b>Log In</b>
					</h2>
					<label for="tipoUsuario"><b>Tipo de Usuario:</b></label>
					<br />
					<h:selectOneMenu id="tipoUsuario" name="tipoUsuario"
						value="#{loginBean.tipoUsuario}">
						<f:selectItem itemLabel="0">
						</f:selectItem>
						<f:selectItem itemValue="cliente" itemLabel="cliente">Cliente</f:selectItem>
						<f:selectItem itemValue="comerciante" itemLabel="comerciante">Comerciante</f:selectItem>
					</h:selectOneMenu>
					<br />
					<label for="usuario"><b>Usuario</b></label>
					<br />
					<h:inputText name="usuario" value="#{loginBean.usuario}"
						required="true" />
					<br />
					<label for="psw"><b>Password</b></label>
					<br />
					<h:inputSecret name="psw" id="psw" value="#{loginBean.password}"
						required="true" />
					<br />
					<h:commandButton value="submit" class="btnLogin"
						onclick="return validaLogIn()" action="#{loginBean.valida()}">Login</h:commandButton>
					<h:commandButton value="button" class="btnCancel" onclick="closeForm()">Close</h:commandButton>
				</h:form>
				<h:panelGroup rendered="#{loginBean.correcto}==true">
				<p>
					<h:outputText value="Login correcto " />
					<br/>
				</p>
				</h:panelGroup>
				<h:panelGroup rendered="#{loginBean.correcto}==false">
				<p>
					<h:outputText value="Login erroneo " />
					<br/>
				</p>
				</h:panelGroup>
			</div>
			<div class="formRegistro" id="formRegistro" style="display: none;">
				<h:form class="formRegistro">
					<h2>
						<b>Registro:</b>
					</h2>
					<h:outputText for="tipoUsuario">
						<b>Tipo de Usuario:</b>
					</h:outputText>
					<br />
					<h:selectOneMenu id="tipoUsuario" name="tipoUsuario"
						value="#{usuarioBean.tipoUsuario}">
						<f:selectItem itemValue="0"> </f:selectItem>
						<f:selectItem itemValue="cliente">Cliente</f:selectItem>
						<f:selectItem itemValue="comerciante">Comerciante</f:selectItem>
					</h:selectOneMenu>
					<br />
					<h:outputText for="nombreUsuario">
						<b>Nombre:</b>
					</h:outputText>
					<br />
					<h:inputText name="nombreUsuario" id="nombreUsuario"
						value="#{registroBean.nombreUsuario}" />
					<br />
					<h:outputText for="correoUsuario">
						<b>Correo:</b>
					</h:outputText>
					<br />
					<h:inputText name="correoUsuario" id="correoUsuario"
						value="#{registroBean.correo}" />
					<br />
					<h:outputText for="password">
						<b>Contrase√±a</b>
					</h:outputText>
					<br />
					<h:inputSecret name="password" id="password"
						value="#{registroBean.password}" />
					<br />
					<h:commandButton value="submit" class="btnRegistro"
						action="#{registroBean.addUsuario()} ">Registrar</h:commandButton>
					<h:commandButton value="button" class="btnCancel" onclick="closeForm()">Close</h:commandButton>
				</h:form>
				<h:panelGroup rendered="#{registroBean.registrado}==true">
				<p>
					<h:outputText value="Registrado correctamente " />
					<br/>
				</p>
				</h:panelGroup>
				<h:panelGroup rendered="#{registroBean.registrado}==false">
				<p>
					<h:outputText value="Registro erroneo " />
					<br/>
				</p>
				</h:panelGroup>

			</div>
		</div>
	</ui:define>
</ui:composition>
</html>